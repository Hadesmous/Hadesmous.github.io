<!DOCTYPE html>
<html lang>
  <head><meta name="generator" content="Hexo 3.9.0">
    
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,user-scalable=no,initial-scale=1,minimum-scale=1,maximum-scale=1">


<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">



  <meta name="description" content="python迭代器、生成器、装饰器">




  <meta name="keywords" content="python,">





  <link rel="alternate" href="/default" title="Hades">




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=1.1">



<link rel="canonical" href="http://yoursite.com/2019/08/27/python迭代器、生成器、装饰器/">


<meta name="description" content="1.生成器的两种定义方式123451.  (x*2 for x in range(10))2.def foo():    yield 1c=foo()  列表生成器1234567a=[x for x in range(10)]   print(a)   #[1,2,3,4,5,6,7,8,9]def f(n):   return n**3s=[f(c) for c in range(3)]prin">
<meta name="keywords" content="python">
<meta property="og:type" content="article">
<meta property="og:title" content="python迭代器、生成器、装饰器">
<meta property="og:url" content="http://yoursite.com/2019/08/27/python迭代器、生成器、装饰器/index.html">
<meta property="og:site_name" content="Hades">
<meta property="og:description" content="1.生成器的两种定义方式123451.  (x*2 for x in range(10))2.def foo():    yield 1c=foo()  列表生成器1234567a=[x for x in range(10)]   print(a)   #[1,2,3,4,5,6,7,8,9]def f(n):   return n**3s=[f(c) for c in range(3)]prin">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2019-08-27T00:48:38.682Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="python迭代器、生成器、装饰器">
<meta name="twitter:description" content="1.生成器的两种定义方式123451.  (x*2 for x in range(10))2.def foo():    yield 1c=foo()  列表生成器1234567a=[x for x in range(10)]   print(a)   #[1,2,3,4,5,6,7,8,9]def f(n):   return n**3s=[f(c) for c in range(3)]prin">


<link rel="stylesheet" type="text/css" href="/css/style.css?v=1.1">
<link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">


  <link rel="stylesheet" type="text/css" href="/lib/fancybox/jquery.fancybox.css">




<script type="text/javascript">
  var themeConfig = {
    fancybox: {
      enable: ture
    },
  };
</script>




  



    <title> python迭代器、生成器、装饰器 - Hades </title>
  </head>

  <body>
    <div id="page">
      <header id="masthead"><div class="site-header-inner">
    <h1 class="site-title">
        <a href="/." class="logo">Hades</a>
    </h1>

    <nav id="nav-top">
        
            <ul id="menu-top" class="nav-top-items">
                
                    <li class="menu-item">
                        <a href="/archives">
                            
                            
                                Archives
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/Story">
                            
                            
                                Story
                            
                        </a>
                    </li>
                
                    <li class="menu-item">
                        <a href="/about">
                            
                            
                                About
                            
                        </a>
                    </li>
                
            </ul>
        
  </nav>
</div>

      </header>
      <div id="content">
        
    <div id="primary">
        
  <article class="post">
    <header class="post-header">
      <h1 class="post-title">
        
          python迭代器、生成器、装饰器
        
      </h1>

      <time class="post-time">
          8月 27 2019
      </time>
    </header>



    
            <div class="post-content">
            <h3 id="1-生成器的两种定义方式"><a href="#1-生成器的两种定义方式" class="headerlink" title="1.生成器的两种定义方式"></a>1.生成器的两种定义方式</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>  (x*<span class="number">2</span> <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>))</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span></span><br><span class="line">c=foo()</span><br></pre></td></tr></table></figure>

<h4 id="列表生成器"><a href="#列表生成器" class="headerlink" title="列表生成器"></a>列表生成器</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a=[x <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">10</span>)]   </span><br><span class="line">print(a)   <span class="comment">#[1,2,3,4,5,6,7,8,9]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span><span class="params">(n)</span>:</span></span><br><span class="line">   <span class="keyword">return</span> n**<span class="number">3</span></span><br><span class="line">s=[f(c) <span class="keyword">for</span> c <span class="keyword">in</span> range(<span class="number">3</span>)]</span><br><span class="line">print(s) <span class="comment">#[0,1,8]</span></span><br></pre></td></tr></table></figure>

<h4 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ok1'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>  <span class="comment">#yield 关键字</span></span><br><span class="line">    print(<span class="string">'0k2'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">c=foo()  <span class="comment">#一个生成器类型地址&lt;generator object foo at 0x0000029A42661570&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ok1'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>  <span class="comment">#yield 关键字</span></span><br><span class="line">    print(<span class="string">'0k2'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">                  <span class="comment">#c=foo()  #一个生成器类型地址&lt;generator object foo at 0x0000029A42661570&gt;</span></span><br><span class="line">                  <span class="comment">#不加c=foo()时  foo()相当于一个函数  yiled相当于return</span></span><br></pre></td></tr></table></figure>

<h3 id="2-生成器的两种方法："><a href="#2-生成器的两种方法：" class="headerlink" title="2.生成器的两种方法："></a>2.生成器的两种方法：</h3><h4 id="next调用"><a href="#next调用" class="headerlink" title="next调用"></a>next调用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ok1'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>  <span class="comment">#yield 关键字</span></span><br><span class="line">    print(<span class="string">'0k2'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">c=foo()  <span class="comment">#一个生成器类型地址&lt;generator object foo at 0x0000029A42661570&gt;</span></span><br><span class="line">a=next(c)  </span><br><span class="line">b=next(c)  <span class="comment"># ok1 ok2 1 2</span></span><br><span class="line"></span><br><span class="line">注：<span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ok1'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">1</span>  <span class="comment">#执行到该步return </span></span><br><span class="line">    print(<span class="string">'0k2'</span>)</span><br><span class="line">    <span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">a=next(foo())  </span><br><span class="line">b=next(foo())  </span><br><span class="line">print(a,b)  <span class="comment"># ok1 ok2 1 2</span></span><br></pre></td></tr></table></figure>

<h4 id="send调用"><a href="#send调用" class="headerlink" title="send调用"></a>send调用</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'ok1'</span>)</span><br><span class="line">    a=<span class="keyword">yield</span> <span class="number">1</span>   ①</span><br><span class="line">    print(a)</span><br><span class="line">    print(<span class="string">'0k2'</span>)</span><br><span class="line">    b=<span class="keyword">yield</span> <span class="number">2</span></span><br><span class="line">    print(b)</span><br><span class="line">    c=<span class="keyword">yield</span> <span class="number">3</span></span><br><span class="line">    print(c)</span><br><span class="line">c=foo()</span><br><span class="line">c.send(<span class="literal">None</span>) <span class="comment">#相当于next(b) 执行到yield 1</span></span><br><span class="line">c.send(<span class="string">'abc'</span>)  <span class="comment"># 给a赋值 ‘abc’ 执行到yield 2</span></span><br><span class="line">c.send(<span class="string">'cba'</span>)  <span class="comment"># 给b赋值 ‘cba’ 执行到yield 3</span></span><br></pre></td></tr></table></figure>

<p>注：生成器在定义时值的数量是固定的，调用超出会StopIteration</p>
<h4 id="yield-实现伪并发"><a href="#yield-实现伪并发" class="headerlink" title="yield 实现伪并发"></a>yield 实现伪并发</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cons</span><span class="params">(name)</span>:</span></span><br><span class="line">    print(<span class="string">"%s准备吃包子了"</span> % name)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        baozi = <span class="keyword">yield</span></span><br><span class="line">        print(<span class="string">"包子%d来了  %s开始吃包子了"</span> % (baozi,name))</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do</span><span class="params">(name)</span>:</span></span><br><span class="line">    print(<span class="string">"准备做包子了"</span>)</span><br><span class="line">    a=cons(<span class="string">'a'</span>)  <span class="comment">#调用con()使得a为生成器</span></span><br><span class="line">    b=cons(<span class="string">'b'</span>)  <span class="comment">##调用con()使得b为生成器</span></span><br><span class="line">    a.__next__()  初次使用生成器 为send赋值做准备</span><br><span class="line">    b.__next__()</span><br><span class="line">    print(<span class="string">'开始做包子了'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range (<span class="number">1</span>,<span class="number">5</span>):</span><br><span class="line">        time.sleep(<span class="number">2</span>)</span><br><span class="line">        print(<span class="string">'做了2个包子'</span>)</span><br><span class="line">        a.send(i)  赋值i给包子</span><br><span class="line">        b.send(i)</span><br><span class="line">do(<span class="string">'chen'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="3-可迭代类型-iterable"><a href="#3-可迭代类型-iterable" class="headerlink" title="3.可迭代类型  iterable"></a>3.可迭代类型  iterable</h3><p>3.可迭代类型  iterable</p>
<ul>
<li>列表  list </li>
<li>元组  tuple</li>
<li>集合 set</li>
<li>字典 dict</li>
</ul>
<figure class="highlight moonscript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">c=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">d=&#123;<span class="string">'name'</span>:<span class="string">''</span>&#125;</span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(a))   #&lt;<span class="class"><span class="keyword">class</span> '<span class="title">list</span>'&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(b))   #&lt;<span class="class"><span class="keyword">class</span> '<span class="title">tuple</span>'&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(c))   #&lt;<span class="class"><span class="keyword">class</span> '<span class="title">set</span>'&gt;</span></span><br><span class="line"><span class="built_in">print</span>(<span class="built_in">type</span>(d))   #&lt;<span class="class"><span class="keyword">class</span> '<span class="title">dict</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="4-迭代器-iterator-——遵循迭代器协议"><a href="#4-迭代器-iterator-——遵循迭代器协议" class="headerlink" title="4.迭代器  iterator  ——遵循迭代器协议"></a>4.迭代器  iterator  ——遵循迭代器协议</h3><p>（1.）next方法</p>
<p>（2.）iter()方法</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b=(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>)</span><br><span class="line">c=&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;</span><br><span class="line">d=&#123;<span class="string">'name'</span>:<span class="string">''</span>&#125;  </span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(iter(a)</span></span>)   #&lt;list_iterator <span class="selector-tag">object</span> at <span class="number">0</span>x0000014B220BDCC0&gt;</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(iter(b)</span></span>)   #&lt;tuple_iterator <span class="selector-tag">object</span> at <span class="number">0</span>x0000014B220BDCC0&gt;</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(iter(c)</span></span>)   #&lt;set_iterator <span class="selector-tag">object</span> at <span class="number">0</span>x0000014B22070DC8&gt;</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(iter(d)</span></span>)   #&lt;dict_keyiterator <span class="selector-tag">object</span> at <span class="number">0</span>x0000014B21DDA548&gt;</span><br></pre></td></tr></table></figure>

<h4 id="4-for循环作用"><a href="#4-for循环作用" class="headerlink" title="4.for循环作用"></a>4.for循环作用</h4><figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> <span class="selector-tag">i</span> <span class="keyword">in</span> iterable</span><br><span class="line">   print i</span><br><span class="line"><span class="number">1</span>.使用iter方法装换成迭代器</span><br><span class="line"><span class="number">2</span>.调用next方法输出</span><br><span class="line"><span class="number">3</span>.检查容错  StopIteration</span><br></pre></td></tr></table></figure>

<h3 id="5-python装饰器"><a href="#5-python装饰器" class="headerlink" title="5.python装饰器"></a>5.python装饰器</h3><p>装饰器的实现条件：</p>
<p>1.函数的定义域</p>
<p>2.高阶函数的使用</p>
<h4 id="闭包："><a href="#闭包：" class="headerlink" title="闭包："></a>闭包：</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span><span class="params">()</span>:</span></span><br><span class="line">    x = <span class="number">10</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span>  <span class="comment">#inner 是内部函数</span></span><br><span class="line">        print(x)   <span class="comment">#x是inner函数外的变量</span></span><br><span class="line">    <span class="keyword">return</span> inner   <span class="comment">#inner就是一个闭包</span></span><br><span class="line">outer()()  <span class="comment">#10</span></span><br></pre></td></tr></table></figure>

<h4 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span>  <span class="title">show_time</span><span class="params">(f)</span>:</span>   <span class="comment">#f函数名是一个外部形参变量，show_time就是一个装饰器</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span>  <span class="comment">#inner是一个闭包函数，可调用f</span></span><br><span class="line">        start=time.time()</span><br><span class="line">        f()</span><br><span class="line">        end=time.time()</span><br><span class="line">        print(<span class="string">"time=%d"</span>,(end-start))</span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"foo...."</span>)</span><br></pre></td></tr></table></figure>

<p>第一种调用方式：</p>
<figure class="highlight lisp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">foo=show_time(<span class="name">foo</span>)</span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>

<p>第二种调用方式：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">@show_time #foo=show_time(foo)</span><br><span class="line"><span class="function"><span class="title">foo</span><span class="params">()</span></span></span><br></pre></td></tr></table></figure>

<h4 id="装饰器函数的参数："><a href="#装饰器函数的参数：" class="headerlink" title="装饰器函数的参数："></a>装饰器函数的参数：</h4><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger</span><span class="params">(flag=<span class="string">''</span>)</span></span><span class="symbol">:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_time</span><span class="params">(f)</span></span><span class="symbol">:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">(*x,**y)</span></span><span class="symbol">:</span></span><br><span class="line">            start=time.time()</span><br><span class="line">            f(*x,**y)</span><br><span class="line">            <span class="keyword">end</span>=time.time()</span><br><span class="line">            print(<span class="string">"time=%d"</span>,(<span class="keyword">end</span>-start))</span><br><span class="line">            <span class="keyword">if</span> (flag==<span class="string">'ture'</span>)<span class="symbol">:</span></span><br><span class="line">                print(<span class="string">"日志记录"</span>)</span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> show_time</span><br><span class="line">@logger(<span class="string">''</span>)   <span class="comment">#调用装饰器函数传入参数 判断是否打印日志文件</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span><span class="params">()</span></span><span class="symbol">:</span></span><br><span class="line">    print(<span class="string">"foo0......"</span>)</span><br><span class="line">    time.sleep(<span class="number">3</span>)</span><br><span class="line">foo()</span><br><span class="line">@logger(<span class="string">'ture'</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(*a,**b)</span></span>: <span class="comment">#a为函数add的不定长参数 可传入多值</span></span><br><span class="line">    sum=<span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="symbol">a:</span></span><br><span class="line">        sum+=i</span><br><span class="line">    print(sum)</span><br><span class="line">    time.sleep(<span class="number">1</span>)</span><br><span class="line">add(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">8</span>) <span class="comment">#传入多值</span></span><br></pre></td></tr></table></figure>

<h3 id="简单实现登录系统功能："><a href="#简单实现登录系统功能：" class="headerlink" title="简单实现登录系统功能："></a>简单实现登录系统功能：</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">sername,password=<span class="string">'chen'</span>,<span class="string">'123'</span>  <span class="comment">#使用‘jd’方式登录的账号密码验证库</span></span><br><span class="line">wxname,wxpasswd=<span class="string">'wang'</span>,<span class="string">'567'</span>   <span class="comment">#使用‘wx’</span></span><br><span class="line">option = <span class="literal">False</span>        <span class="comment">#判断是否登录的标志位</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">choseup</span><span class="params">(a=<span class="string">''</span>)</span>:</span>  <span class="comment">#登录方式选择  装饰器参数</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">up</span><span class="params">(f)</span>:</span>  <span class="comment">#装饰器函数  </span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">inner</span><span class="params">()</span>:</span></span><br><span class="line">            <span class="keyword">if</span> option == <span class="literal">False</span> :</span><br><span class="line">                <span class="keyword">if</span> a==<span class="string">'jd'</span>:</span><br><span class="line">                    user1=input(<span class="string">"username=\n"</span>)</span><br><span class="line">                    passwd1=input(<span class="string">"password=\n"</span>)</span><br><span class="line">                    <span class="keyword">if</span> user1==username <span class="keyword">and</span> passwd1==password :</span><br><span class="line">                        print(<span class="string">"登录成功"</span>)</span><br><span class="line">                        f()</span><br><span class="line">                        option == <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        print(<span class="string">"账号密码错误请重新登录"</span>)</span><br><span class="line">                        inner()</span><br><span class="line">                <span class="keyword">elif</span> a==<span class="string">'wx'</span>:</span><br><span class="line">                    user2=input(<span class="string">"username=\n"</span>)</span><br><span class="line">                    passwd2=input(<span class="string">"password=\n"</span>)</span><br><span class="line">                    <span class="keyword">if</span> user2==wxname <span class="keyword">and</span> passwd2==wxpasswd:</span><br><span class="line">                        print(<span class="string">"登录成功"</span>)</span><br><span class="line">                        f()</span><br><span class="line">                        option == <span class="literal">True</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        print(<span class="string">"账号密码错误请重新登录"</span>)</span><br><span class="line">                        inner()</span><br><span class="line">            <span class="keyword">else</span>: <span class="keyword">pass</span></span><br><span class="line">        <span class="keyword">return</span> inner</span><br><span class="line">    <span class="keyword">return</span> up</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="meta">@choseup('jd')    #传输参数‘jd’，选择登录方式为jd</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sort_page1</span><span class="params">()</span>:</span>  </span><br><span class="line">    print(<span class="string">"welcome to home"</span>)</span><br><span class="line"><span class="meta">@choseup('wx')  #传输参数‘wx’，选择登录方式为wx</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sort_page2</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"welcome to finale"</span>)</span><br><span class="line"><span class="meta">@choseup('jd')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sort_page3</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">"welcome to book"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">a</span><span class="params">()</span>:</span></span><br><span class="line">    x = input(<span class="string">"1.home\n2.finale\n3.book\n"</span>)  <span class="comment">#x返回字符串类型"1"  "2"  "3"  不是 1 2 3   此点导致调了一下午 切记</span></span><br><span class="line">    print(<span class="string">'您的选择为：'</span>,x)</span><br><span class="line">    <span class="keyword">if</span> (x == <span class="string">'1'</span>):   <span class="comment">#</span></span><br><span class="line">        sort_page1()</span><br><span class="line">    <span class="keyword">elif</span> (x == <span class="string">'2'</span>):</span><br><span class="line">        sort_page2()</span><br><span class="line">    <span class="keyword">elif</span> (x == <span class="string">'3'</span>):</span><br><span class="line">        sort_page3()</span><br><span class="line">a()</span><br></pre></td></tr></table></figure>


            </div>
          

    
      <footer class="post-footer">
		
		<div class="post-tags">
		  
			<a href="/tags/python/">python</a>
		  
		</div>
		

        
        
  <nav class="post-nav">
    
      <a class="prev" href="/2019/08/27/python模块1/">
        <i class="iconfont icon-left"></i>
        <span class="prev-text nav-default">python模块1</span>
        <span class="prev-text nav-mobile">Prev</span>
      </a>
    
    
      <a class="next" href="/2019/08/26/基于centos7的linux学习8/">
        <span class="next-text nav-default">基于centos7的linux学习8</span>
        <span class="prev-text nav-mobile">Next</span>
        <i class="iconfont icon-right"></i>
      </a>
    
  </nav>

        
  <div class="comments" id="comments">
    
  </div>


      </footer>
    
  </article>

    </div>

      </div>

      <footer id="colophon"><span class="copyright-year">
    
        &copy;
    
        2014 -
    
    2019
    <span class="footer-author">Hades.</span>
    <span class="power-by">
        Powered by <a class="hexo-link" href="https://hexo.io/">Hexo</a> and <a class="theme-link" href="https://github.com/frostfan/hexo-theme-polarbear">Polar Bear</a>
    </span>
</span>

      </footer>

      <div class="back-to-top" id="back-to-top">
        <i class="iconfont icon-up"></i>
      </div>
    </div>
    


    
  





  
    <script type="text/javascript" src="/lib/jquery/jquery-3.1.1.min.js"></script>
  

  
    <script type="text/javascript" src="/lib/fancybox/jquery.fancybox.pack.js"></script>
  

    <script type="text/javascript" src="/js/src/theme.js?v=1.1"></script>
<script type="text/javascript" src="/js/src/bootstrap.js?v=1.1"></script>

  <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginModelPath":"assets/","model":{"jsonPath":"/live2dw/assets/z16.model.json"},"display":{"position":"right","width":200,"height":400},"mobile":{"show":"ture"},"log":false,"pluginJsPath":"lib/","pluginRootPath":"live2dw/","tagMode":false});</script></body>
</html>
<!-- 页面点击小红心 -->
<script type="text/javascript" src="/js/src/love.js"></script>